{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport React from \"react\";\nimport Items from \"./Items\";\nimport { ref, onValue, orderByChild, query, equalTo } from \"firebase/database\";\nimport { database } from \"../../firebaseconfig\";\nimport useWindowDimensions from \"react-native-web/dist/exports/useWindowDimensions\";\nimport { useState, useEffect, useContext } from \"react\";\nimport AuthContext from \"./Context\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function PatientList() {\n  var _useStyle = useStyle(),\n    styles = _useStyle.styles;\n  var authcontext = useContext(AuthContext);\n  var _useState = useState(),\n    _useState2 = _slicedToArray(_useState, 2),\n    userData = _useState2[0],\n    setUserData = _useState2[1];\n  var _useState3 = useState(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    filterData = _useState4[0],\n    setFilterData = _useState4[1];\n  useEffect(function () {\n    var dataRef = ref(database, \"Post\");\n    var postIdQuery = query(dataRef, orderByChild(\"userID\"), equalTo(authcontext.user));\n    onValue(postIdQuery, function (snapshot) {\n      var data = snapshot.val();\n      console.log(JSON.stringify(data, null, 2));\n      if (data !== null) {\n        var postArr = Object.keys(data).map(function (key) {\n          return _objectSpread({\n            postuid: key\n          }, data[key]);\n        });\n        setUserData(postArr);\n        setFilterData(postArr);\n      } else {\n        console.log(\"No data\");\n      }\n    });\n  }, []);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.text,\n      children: \"Patient List\"\n    }), _jsx(FlatList, {\n      data: filterData,\n      showsVerticalScrollIndicator: true,\n      renderItem: function renderItem(_ref) {\n        var item = _ref.item;\n        return _jsx(Items, {\n          itemData: item\n        });\n      }\n    })]\n  });\n}\nvar useStyle = function useStyle() {\n  var _useWindowDimensions = useWindowDimensions(),\n    width = _useWindowDimensions.width,\n    height = _useWindowDimensions.height;\n  var styles = StyleSheet.create({\n    container: {\n      width: width,\n      marginTop: 20,\n      marginBottom: 90,\n      marginLeft: 60,\n      marginRight: 40,\n      borderColor: \"#000000\"\n    },\n    text: {\n      alignItems: \"center\",\n      fontWeight: \"bold\",\n      fontSize: 20,\n      width: width,\n      marginLeft: 140,\n      marginBottom: 10\n    }\n  });\n  return {\n    styles: styles\n  };\n};","map":{"version":3,"names":["React","Items","ref","onValue","orderByChild","query","equalTo","database","useWindowDimensions","useState","useEffect","useContext","AuthContext","jsx","_jsx","jsxs","_jsxs","PatientList","_useStyle","useStyle","styles","authcontext","_useState","_useState2","_slicedToArray","userData","setUserData","_useState3","_useState4","filterData","setFilterData","dataRef","postIdQuery","user","snapshot","data","val","console","log","JSON","stringify","postArr","Object","keys","map","key","_objectSpread","postuid","View","style","container","children","Text","text","FlatList","showsVerticalScrollIndicator","renderItem","_ref","item","itemData","_useWindowDimensions","width","height","StyleSheet","create","marginTop","marginBottom","marginLeft","marginRight","borderColor","alignItems","fontWeight","fontSize"],"sources":["/Users/apple/PatientsTrackerApp/src/screens/PatientList.js"],"sourcesContent":["import { FlatList, StyleSheet, Text, View,SafeAreaView, ScrollView } from \"react-native\";\nimport React from \"react\";\nimport Items from \"./Items\";\nimport { ref, onValue, orderByChild, query, equalTo } from \"firebase/database\";\nimport { database } from \"../../firebaseconfig\";\nimport { useWindowDimensions } from \"react-native\";\nimport { useState, useEffect, useContext } from \"react\";\nimport AuthContext from \"./Context\";\n\nexport default function PatientList() {\n  const { styles } = useStyle();\n  const authcontext = useContext(AuthContext);\n\n  const [userData, setUserData] = useState();\n  const [filterData, setFilterData] = useState();\n\n  useEffect(() => {\n    const dataRef = ref(database, \"Post\");\n    const postIdQuery = query(\n      dataRef,\n      orderByChild(\"userID\"),\n      equalTo(authcontext.user)\n    );\n\n    onValue(postIdQuery, (snapshot) => {\n      const data = snapshot.val();\n      console.log(JSON.stringify(data, null, 2));\n      if (data !== null) {\n        const postArr = Object.keys(data).map((key) => ({\n          postuid: key,\n          ...data[key],\n        }));\n        setUserData(postArr);\n        setFilterData(postArr);\n      } else {\n        console.log(\"No data\");\n      }\n    });\n  }, []);\n\n  return (\n\n    <View style={styles.container}>\n      <Text style={styles.text}>Patient List</Text>\n      <FlatList\n        data={filterData}\n        showsVerticalScrollIndicator={true}\n        renderItem={({ item }) => <Items itemData={item} />}\n      />\n    </View>\n  );\n}\n\nconst useStyle = () => {\n  const { width, height } = useWindowDimensions();\n  const styles = StyleSheet.create({\n    container: {\n      width: width,\n      marginTop: 20,\n      marginBottom: 90,\n      marginLeft: 60,\n      marginRight: 40,\n      borderColor: \"#000000\",\n    },\n    text: {\n      alignItems: \"center\",\n      fontWeight: \"bold\",\n      fontSize: 20,\n      width:width,\n      marginLeft: 140,\n      marginBottom: 10,\n    },\n  });\n  return { styles };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}